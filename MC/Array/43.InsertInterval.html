<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>43. Insert Interval</title>
</head>
<body>
<script type="text/javascript">
	
let intervals = [[1,3],[6,9]];
let newInterval = [2,5];

let intervals1 = [[1,2],[3,5],[6,7],[8,10],[12,16]];
let newInterval1 = [4,8];

let intervals2 = [[4,5],[6,9]];
let newInterval2 = [1,2];

let intervals3 = [[1,5]];
let newInterval3 = [6,8];

let findIndex = function(num, intervals) {
    let index = 0;
    let length = intervals.length;
    while(index < length) {
        if(num < intervals[index][0]) { return index; }
        index++;
    }
    return index;
}

let insert = function(intervals, newInterval) {
    let newItem = [];

    // xu ly phan tu dau
    let firstValue = newInterval[0];
    let startIndex = findIndex(firstValue, intervals);
    
    if(startIndex == 0 || firstValue > intervals[startIndex-1][1]) {
        newItem.push(firstValue);
    } else {
        startIndex--;
        newItem.push(intervals[startIndex][0]);
    }

    // xu ly phan tu cuoi
    let lastValue = newInterval[1];
    let lastIndex = findIndex(lastValue, intervals);
    
    if(lastIndex == 0 || lastValue > intervals[lastIndex-1][1]) {
        newItem.push(lastValue);
    } else {
        newItem.push(intervals[lastIndex-1][1]);
    }

    intervals.splice(startIndex, lastIndex - startIndex, newItem);
    return intervals;
}

console.log(insert(intervals3, newInterval3));

</script>
</body>
</html>