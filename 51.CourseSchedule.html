<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>
<script type="text/javascript">
	
let numCourses = 2;
let prerequisites = [[1,0], [0,1]];

function checkCourse(course = [], prerequisites, store) {
    let lastCourse = course[course.length-1];
    if(store[lastCourse] !== undefined) return store[lastCourse];
	let allCourse = prerequisites.filter(item => lastCourse == item[0]);
	
	let result = true;
	for(let item of allCourse) {
		if(course.includes(item[1])) { 
			result = false;
			break;
		}
		result = result && checkCourse([...course, item[1]], prerequisites, store);
	}

    store[lastCourse] = result;
	return result;
}

var canFinish = function(numCourses, prerequisites) {
    let store = new Array(numCourses);
    let kq = true;
    for(let item of prerequisites) {
    	if(item[0] == item[1]) { return false; }
    	kq = kq && checkCourse(item, prerequisites, store);
    	if(!kq) break;
    }
    return kq;
}; 

console.log(canFinish(numCourses, prerequisites));

</script>
</body>
</html>